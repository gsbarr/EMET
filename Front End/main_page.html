<!DOCTYPE html>
<html lang="en">
    <head>
      <title>Proyecto E.M.E.T.</title>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link href="css\main_pag.css" rel="stylesheet">
      <link href="css\materialize\css\materialize.css" rel="stylesheet">
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js">
      <link rel="icon" href="img/logos/Logo4-pag.png">
    </head>
    <body>
       <header class="banner navbar-fixed">
            <nav class="z-depth-0 transparent">
              <div class="nav-wrapper transparent">
                <a href="#" class="brand-logo"><img style="margin-top: -3%;" class="logo" src="img\logos\Logo4.png"><h5 class="nav-text"><b> E.M.E.T</b></h5></a>
                <ul id="nav-mobile" class="nav-menu">
                  <div class="row">
                      <div class="col s10"></div>
                      <div>
                        <li style="margin-left: -50%;"><a href="main_page.html" class="link" ><b>INICIO</b></a></li>
                        <li style="margin-left: -40%;"><a href="contacto.html" class="link" ><b>CONTACTO</b></a></li>
                      </div>
                </ul>
              </div>
            </nav>
          </header>
          <div class="container">
            <div class="info">
              <h5><b>TODA LA 
                <br>INFORMACION METEOROLOGICA</b></h5>
              <br> <br>
              <h2 style="margin-left: 10%;">A tu alcance</h2>
              <br> <br>
              <br> <br>
              <br> <br>
            <div class="row">
              <div class="col s6 center-align" style="margin-left: -15%;">
                <button type="button" onclick="location.href='login.html';" class="boton" style="width:200px; height: 40px;"><b>INICIAR SESION</b></button>
              </div>
              <div class="col s6 center-align" style="margin-left: -15%;">
                <button type="button" onclick="location.href='crearcuenta.html';"class="boton" style="width:200px; height: 40px;"><b>REGISTRARSE</button>  
              </div>
            </div>
          </div>
        </div>
        
        <div class="box-icons">
          <div class="row"></div>
            <div class="col s4 icon" style="margin-top: -149%; margin-left: -20%;">
              <h7 style="margin-left: 28%">Lunes</h7>
              <img class="image-icon" src="img/Iconos Clima/sun.png">
              <h7 style="margin-left: 20%;">23° | 19°</h7>
            </div>
            <div class="col s4 icon" style="margin-top: -43%; margin-left: 12%;">
              <h7 style="margin-left: 25%">Martes</h7>
              <img class="image-icon" src="img/Iconos Clima/sun.png">
              <h7 style="margin-left: 20%;">20° | 27°</h7>
            </div>
            <div class="col s4 icon" style="margin-top: -42.6%; margin-left: 44%;">
              <h7 style="margin-left: 16%">Miércoles</h7>
              <img class="image-icon" src="img/Iconos Clima/lluvia.png">
              <h7 style="margin-left: 26%;">12° | 9°</h7>
            </div>
            <div class="col s4 icon" style="margin-top: -43%; margin-left: 76%;">
              <h7 style="margin-left: 26%">Jueves</h7>
              <img class="image-icon" src="img/Iconos Clima/soleado con lloviznas.png">
              <h7 style="margin-left: 20%;">18° | 20°</h7>
            </div>
          </div>
        </div>

        <div>
          <p style="color: black; margin-top: -35%; margin-left: 58%;">Resumen del día</p>

          <div class="stats" style="margin-top: 2%; margin-left: 57.4%;">
            <h7 style="margin-left: 6%;">UV Index</h7>
            <div class="bar-uvindex">
              <form action="" class="w3-container w3-margin" id="form">
              </form>
              
              <div class="graph-group" id="group"></div>
            </div>
            <!-- <div id="progress-bar" class="progress-bar">
              <div class="progreso"></div>
            </div> -->  
          </div>
          <div class="stats" style="margin-top: -11%; margin-left: 73.7%;">
            <h7 style="margin-left: 6%;">Estado del viento</h7>
            <h4 style="margin-left: 6%;">5.64 km/h</h4>
          </div>
          <div class="stats" style="margin-top: 1%; margin-left: 73.7%;">
            <h7 style="margin-left: 6%;">Visibilidad</h7>
            <h3 style="margin-left: 6%;">5.2 km</h3>
          </div>
          <div class="stats" style="margin-top: -10.9%; margin-left: 57.4%;">
            <h7 style="margin-left: 6%;">Humedad</h7>
            <h3>14%</h3>
          </div>
        
        </div>

        <script>
          /*const width = 400;
          const height = 200;
                  
          const svg = d3.select("#progress-bar")
            .append("svg")
            .attr("width", width)
            .attr("height", height);
                  
          const progress = svg.append("path")
            .attr("d", "M0,0 Q200,-100 400,0 L400,50 L0,50 Z")
            .attr("fill", "#4caf50");
                  
          progress.transition()
            .duration(2000)
            .attr("d", "M0,0 Q200,-200 400,0 L400,50 L0,50 Z");*/

          const graphGroup = document.getElementById('group')
          const form = document.getElementById('form')
                  
          form.addEventListener('submit', e => {
          
              e.preventDefault()
          
              let targetValue = document.getElementById('input')
              let builder = targetValue.value.split(",");
          
              generateGraph(parseInt(builder[0]), builder[1])
              setRotation(parseInt(builder[0]), builder[1])
              targetValue.value = ""
          })
          
          function generateGraph(title) {
          
              let generate = document.createElement('div')
              generate.className = "graph-container"
              generate.id = title;
              generate.innerHTML =
                  `
          <div class="graph-container">
              <div class="graphic" id="${title}-content"></div>
              <div class="data">
                  <h4>${title}</h4>
              </div>
          </div>
          `
              graphGroup.appendChild(generate);
          }
          
          function setRotation(id) {
              let rotation = (180 * percentage) / 100;
          
              let container = document.getElementById(`${id}-content`);
              container.style.transform = `rotate(${rotation}deg)`
          }
          
          window.addEventListener('load', () => {
              generateGraph("70%")
          })
        </script>
    </body>
</html>